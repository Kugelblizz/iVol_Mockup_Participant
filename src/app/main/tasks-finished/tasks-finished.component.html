<!-- <link href="https://fonts.googleapis.com/css?family=Noto+Sans+HK" rel="stylesheet"> -->

<link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli|Roboto:300,400,500,700|Google+Sans">

<div class="page-layout blank p-24" fusePerfectScrollbar>

    <div class="header mat-accent-bg p-16 p-sm-24" fxLayout="column" fxLayoutAlign="center center">
        <h1>Aufgaben</h1>
    </div>

    <br>

    <div>
        <div fxLayout="row" fxLayoutAlign="space-evenly center">
            <img src="../../../assets/images/placeholders/400x400.jpg">
            <img src="../../../assets/images/placeholders/400x400.jpg">
            <img src="../../../assets/images/placeholders/400x400.jpg">
        </div>

        <div style="padding-top: 10px"></div>

        <div fxLayout="row" fxLayoutAlign="space-between center">
            <div></div>
        
            <div *ngIf="fadedIn" style="background-color: lightgreen; padding-left: 200px; padding-right: 200px; padding-bottom: 2px; padding-top: 2px">
                <div style="color: green; font-size: 17px">Aufgabe '{{insertedTaskName}}' hinzugefügt</div>
            </div>

            <div></div>
        </div>

        <div fxLayout="row" fxLayoutAlign="space-between center">

            
            <h2>Die letzten 5 Aufgaben</h2>
            

            <div style="cursor: pointer">
                <!-- routerLink="/task/add" > -->
                <button mat-raised-button color="primary" matRipple [matMenuTriggerFor]="newMenu">
                    <div fxLayout="row" fxLayoutAlign="start center">
                    <mat-icon >add</mat-icon> 
                    <div> &nbsp; Neue Aufgabe</div>
                    </div>
                </button>
                <mat-menu #newMenu="matMenu" xPosition="after" yPosition="below" [overlapTrigger]="false">
                    <button mat-menu-item routerLink="/task/add">neu Erstellen</button>
                    <button mat-menu-item>aus Vorlage</button>
                </mat-menu>
            </div>

            

        </div>  

        <mat-table #table [dataSource]="dataSource" *ngIf="dataSource.data.length != 0">
            <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let taskTemplate">{{taskTemplate.name}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="creator">
                <mat-header-cell *matHeaderCellDef>Ersteller</mat-header-cell>
                <mat-cell *matCellDef="let taskTemplate">{{taskTemplate.creator}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="modifiedOn">
                <mat-header-cell *matHeaderCellDef>Zuletzt Geändert</mat-header-cell>
                <mat-cell *matCellDef="let taskTemplate">{{taskTemplate.modifiedOn.toLocaleString()}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="status">
                    <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
                    <mat-cell *matCellDef="let taskTemplate">{{taskTemplate.status}}</mat-cell>
                </ng-container>

            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                <mat-cell *matCellDef="let taskTemplate">
                    <mat-icon style="cursor: pointer">edit</mat-icon>
                </mat-cell>
            </ng-container>
        
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>

        <br>

        <button mat-raised-button style="width: 100%" color="accent">Alle Anzeigen</button>
        
        <div class="no-data" *ngIf="dataSource.data.length === 0">
            No Task Templates found!
        </div>
    </div>   


</div>
